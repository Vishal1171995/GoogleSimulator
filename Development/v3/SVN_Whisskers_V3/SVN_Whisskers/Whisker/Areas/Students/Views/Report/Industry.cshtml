@{
    ViewBag.Title = "IndustryReport";
    Layout = "~/Areas/Students/Views/Shared/Student_Layout.cshtml";
}
<!---------------------  Content start  --------------------->

<div class="manage-batch">
    <div class="container">
        <div class="row">
            <div class="col-md-8"><h1>Industry Reports</h1></div>
            <div class="col-md-4 text-right">
                <select id="ddlBatchReport" name="ddlBatchReport" onchange="BindIndustryReport();" class="select hidden">
                    <option selected="" value=@ViewBag.BatchCode>@ViewBag.BatchName</option>
                </select>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>



<div class="campaigns-tab">
    <div class="account-report">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <ul class="nav nav-tabs">
                        <li class="liwidth20 active"><a href="#top-search">Top Search</a> <img class="arrow" src="/Content/images/arrow.png" alt="arrow" /></li>
                        <li class="liwidth20"><a class="Padding20_0" href="#campaigns-matrix">Campaign Matrix</a> <img class="arrow" src="/Content/images/arrow.png" alt="arrow" /></li>
                        <li class="liwidth20"><a class="Padding20_0" href="#top-account">Top Account</a> <img class="arrow" src="/Content/images/arrow.png" alt="arrow" /></li>
                        <li class="liwidth20"><a class="Padding20_0" href="#rfa-comparisons_grid">RFA Comparisons</a> <img class="arrow" src="/Content/images/arrow.png" alt="arrow" /></li>
                        <li class="liwidth20"><a class="Padding20_0" href="#rfa-comparisons_graph">RFA Comparisons Graph</a> <img class="arrow" src="/Content/images/arrow.png" alt="arrow" /></li>

                    </ul>

                    <div class="tab-content">
                        <div id="top-search" class="tab-pane fade in active">
                            <div class="campaings-header padding-top">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h4 class="pull-left">Top 10 Keywords</h4>
                                        <a id="TopKeywrdsDownload" class="fa-download-icon pull-right" href=""><i class="fa fa-download" area-hidden="true"></i>Download</a>
                                    </div>
                                    <div class="col-md-6">
                                        <h4 class="pull-left">Top 5 Themes</h4>
                                        <a id="TopThemesDownload" class="fa-download-icon pull-right" href=""><i class="fa fa-download" area-hidden="true"></i>Download</a>
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="campaings-table-border">
                                            <div id="div_rptkey"></div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="campaings-table-border">
                                            <div id="div_rptthemes"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>




                        </div>
                        <div id="campaigns-matrix" class="tab-pane fade">
                            <div class="campaings-header">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="campaings-table-border ">
                                            <a id="TopCmpgnMatrxDownload" class="fa-download-icon pull-right" href=""><i class="fa fa-download" area-hidden="true"></i>Download</a>
                                            <div id="div_IndCampRpt"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>





                        <div id="top-account" class="tab-pane fade">


                            <div class="campaings-header">

                                <div class="row padding-top hidden">

                                    <div class=" col-md-push-8 col-md-4 col-sm-12 col-xs-12 text-right">

                                        <div class="radio radio-inline radio-danger">
                                            <input id="inlineRadio1" type="radio" checked="" name="radioInline" value="option1">
                                            <label for="inlineRadio1"> Top Account </label>
                                        </div>
                                        <div class="radio radio-inline radio-danger">
                                            <input id="inlineRadio2" type="radio" name="radioInline" value="option1">
                                            <label for="inlineRadio2"> RFA-RFA Comparison </label>
                                        </div>

                                    </div>
                                </div>

                                @*<div class="row padding-top">*@
                                    <div class="col-md-12">
                                        <div class="campaings-table-border ">
                                            <a id="TopAccountDownload" class="fa-download-icon pull-right" href=""><i class="fa fa-download" area-hidden="true"></i>Download</a>
                                            <div id="div_IndAccRpt"></div>
                                        </div>
                                    </div>
                                @*</div>*@


                            </div>
                        </div>

                        <div id="rfa-comparisons_grid" class="tab-pane fade">
                            <div class="campaings-header">
                                <div class="col-md-12">
                                    <div class="pull-right padding-top">
                                        <label class="radio-inline hidden">
                                            <input type="radio" name="optradio" value="1" onclick="GetIndustryReportRfaComparsnByAcc();">Account wise
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" name="optradio" value="2" checked="checked">RFA wise
                                        </label>
                                        @*<label class="radio-inline">
                                            <input type="radio" name="optradio" value="2" checked="checked" onclick="GetIndustryReportRfaComparsnByRfa();">RFA wise
                                        </label>*@
                                        @*<label class="radio-inline">
                            <a id="TopRFAGridDownload" class="fa-download-icon pull-right hidden" href=""><i class="fa fa-download" area-hidden="true"></i>Download</a>
                        </label>*@
                                    </div>
                                    <div class="campaings-table-border">
                                        <div id="div_IndRfaRpt"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="rfa-comparisons_graph" class="tab-pane fade">
                            <div class="campaings-header">
                                <div class="row">
                                    <div class="col-md-2"></div>
                                    <div class="col-md-10 padding-top">
                                        <button id="btnGetRFAHistories" class="report-btn pull-right" onclick="GetIndustryReportRfaHistoriesByGraph();" style="margin-left:5px;" >RFA Industry Camparision</button>
                                        <button id="btnGetRFAGraph" class="report-btn pull-right" onclick="GetIndustryReportRfaComparsnByGraph();">RFA Account Comparision</button>

                                        <select id="ddlRfaList" name="ddlRfaList" class="select pull-right">
                                            <option selected>Choose RFA</option>
                                        </select>

                                        <select id="ddlAccount" onchange="GetRfaListDropdown();" name="ddlAccount" class="select pull-right">
                                            <option selected="" value="">Choose Account</option>
                                            <option value=@ViewBag.AccCode>@ViewBag.AccName</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="campaings-table-border ">
                                    <div id="div_IndRfa_graph_msg" class="col-md-12 No-data"></div>
                                    <div id="div_IndRfa_graph">
                                        <div class="col-md-4">
                                            <div id="chartContainer1" style="height: 250px; width: 100%;"></div>
                                        </div>
                                        <div class="col-md-4">
                                            <div id="chartContainer2" style="height: 250px; width: 100%;"></div>
                                        </div>
                                        <div class="col-md-4">
                                            <div id="chartContainer3" style="height: 250px; width: 100%;"></div>
                                        </div>
                                        <div class="col-md-4">
                                            <div id="chartContainer4" style="height: 250px; width: 100%;"></div>
                                        </div>
                                        <div class="col-md-4">
                                            <div id="chartContainer5" style="height: 250px; width: 100%;"></div>
                                        </div>
                                        <div class="col-md-4">
                                            <div id="chartContainer6" style="height: 250px; width: 100%;"></div>
                                        </div>
                                        <div class="col-md-4">
                                            <div id="chartContainer7" style="height: 250px; width: 100%;"></div>
                                        </div>
                                        <div class="col-md-4">
                                            <div id="chartContainer8" style="height: 250px; width: 100%;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>


            </div>

        </div>

    </div>

</div>



<!---------------------  Content End  --------------------->
<script src="~/Scripts/jquery.canvasjs.min.js"></script>
<script>
    (function ($) {
        $(window).load(function () {
            //GetBatchDropdown();
            $("#li_Reports").addClass("active");
            location.hash = "#top-search";
            window.location = location.hash;
            BindIndustryReport();
        });
    })(jQuery);
    $(document).ready(function () {
        $(".nav-tabs a").click(function () {
            $(this).tab('show');
            //  alert(this);
        });
        $('.nav-tabs a').on('shown.bs.tab', function (event) {
            var x = $(event.target).text();         // active tab
            var y = $(event.relatedTarget).text();  // previous tab
            $(".act span").text(x);
            $(".prev span").text(y);
            BindIndustryReport();
        });

    });
    function BindIndustryReport() {
        debugger;
        var UrlLength = window.location.href.toString().split("#").length;
        if (window.location.href.toString().split("#")[1].toUpperCase() == "TOP-SEARCH" && UrlLength == 2) {
            GetIndustryReportTopSearch();
            GetIndustryReportTopThemes();
        }
        if (window.location.href.toString().split("#")[1].toUpperCase() == "CAMPAIGNS-MATRIX" && UrlLength == 2) {
            GetIndustryReportCampaignMatrix();
        }
        if (window.location.href.toString().split("#")[1].toUpperCase() == "TOP-ACCOUNT" && UrlLength == 2) {
            GetIndustryReportTopAccount();
        }
        if (window.location.href.toString().split("#")[1].toUpperCase() == "RFA-COMPARISONS_GRID" && UrlLength == 2) {
            debugger;
            var myRadio = $('input[name=optradio]');
            var checkedValue = myRadio.filter(':checked').val();
            if (checkedValue == "1")
                GetIndustryReportRfaComparsnByAcc();
            if (checkedValue == "2")
                GetIndustryReportRfaComparsnByRfa();
        }
        if (window.location.href.toString().split("#")[1].toUpperCase() == "RFA-COMPARISONS_GRAPH" && UrlLength == 2) {
            //GetRfaAccountDropdown();
            //GetRfaListDropdown();
            //GetIndustryReportRfaComparsnByGraph();
        }
        $("#TopKeywrdsDownload").attr("href", "/Students/Report/GetIndustryReportTopSearchExcel/" + $('#ddlBatchReport').val());
        $("#TopThemesDownload").attr("href", "/Students/Report/GetIndustryReportTopThemesExcel/" + $('#ddlBatchReport').val());
        $("#TopCmpgnMatrxDownload").attr("href", "/Students/Report/GetIndustryReportCampaignMatrixExcel/" + $('#ddlBatchReport').val());
        $("#TopAccountDownload").attr("href", "/Students/Report/GetIndustryReportTopAccountExcel/" + $('#ddlBatchReport').val());

    }
    function IndustryTopSearchDataTable() {
        //check admin.css DataTable section if you want to hide header paging
        $('#tbl_resultkeyRpt').dataTable({
            "searching": false,
            //scrollY: '50vh',
            //scrollCollapse: true,
            //scrollY: '50vh',
            //scrollCollapse: true,
            //order: [],
            //columnDefs: [{ orderable: false, targets: [0] }],
            "bLengthChange": true,
            "oLanguage":
            {
                "sEmptyTable": "No Record Found"
            }
        });
    }
    function IndustryCampaignMatrixDataTable() {
        //check admin.css DataTable section if you want to hide header paging
        $('#tbl_resultIndCampRpt').dataTable({
            "searching": false,
            //scrollY: '50vh',
            //scrollCollapse: true,
            //scrollY: '50vh',
            //scrollCollapse: true,
            //order: [],
            //columnDefs: [{ orderable: false, targets: [0] }],
            "bLengthChange": true,
            "oLanguage":
            {
                "sEmptyTable": "No Record Found"
            }
        });
    }
</script>
